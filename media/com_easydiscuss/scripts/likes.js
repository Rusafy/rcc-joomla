EasyDiscuss.module("likes",function(e){var t=this;EasyDiscuss.Controller("Likes",{defaultOptions:{postId:null,registeredUser:null,"{likeButton}":".btnLike","{unlikeButton}":".btnUnlike","{likeText}":".likeText"}},function(t){return{init:function(){t.options.postId=t.element.data("postid"),t.element.data("like",!0)},getLikesData:function(){EasyDiscuss.ajax("site.views.likes.getData",{id:t.options.postId}).done(function(e){t.likeText().html(e)})},likeItem:function(){if(!t.options.registeredUser)return!1;EasyDiscuss.ajax("site.views.likes.like",{postid:t.options.postId}).done(function(e){t.likeText().html(e)})},"{likeButton} click":function(n){t.likeItem(),e(n).addClass("btn-primary")},"{unlikeButton} click":function(n){e(n).removeClass("btn-primary"),t.likeItem()},"{unlikeButton} mouseover":function(t){e(t).find("i").removeClass("icon-ed-love").addClass("icon-ed-remove")},"{unlikeButton} mouseout":function(t){e(t).find("i").removeClass("icon-ed-remove").addClass("icon-ed-love")}}}),e(document).on("mouseover.discussLikes",".discussLikes",function(){var t=e(this);if(t.data("like")==undefined){var n=t.attr("data-registered-user")==="true";t.implement(EasyDiscuss.Controller.Likes,{registeredUser:n})}}),t.resolve()});